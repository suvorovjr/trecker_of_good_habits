# Приложение "Трекер полезных привычек"

## Логика работы программы

- Каждый пользователь имеет доступ только к своим привычкам по механизму CRUD.

- Любой пользователь может видеть список публичных привычек без возможности их как-то редактировать или удалять.

# Инструкция к приложению "Трекер полезных привычек"

## Начало работы

Прежде чем установить проект, вам неободимо убедиться в том, что у Вас:

```
1. Python версии 3.10 или выше
2. Pip для управления зависимостями
3. Сервер Redis
```

## 1. Установка зависимостей проекта

Активируйте виртуальное окружение с помощью команд:

- Для операционной системы Windows

```commandline
venv/Scripts/activate.bat
```

- Для операционной системы Linux

```commandline
source venv/bin/activate
```

Для установки зависимостей выполните следующую команду:

```commandline
pip install -r requirements.txt
```

## 2. Настройка суперпользователя

Для создания суперпользователя и установки его параметров, отредактируйте файл
`users/management/commands/csu.py`

## 3. Создание суперпользователя

После редактирования для создания суперпользователя в командной строке выполните:

```commandline
python manage.py csu
```

## 4. Настройка переменных окружения

Для работы с перменными необходимо будет создать файл `.env` с вашими данными для
использования БД. Данные для определения указаны в файле `example.env`.

## 5. Запуск сервера Redis

Сервис использует Redis в качестве БД для работы с Судукн, поэтому убедитесь, что сервер запущен:

- Для операционной системы Windows
  Необходимо установить WSL (Подсистему Windows для Linux), затем запустить Redis в вашем дистрибутиве Linux:

```commandline
sudo service redis-server start
```

- Для Unix-подобных операционных систем

```commandline
sudo service redis-server start
```

## 6. Настройка планировщика задач

Для запуска периодических задач в Celery beat необходимо в другом окне терминала ввести команду.

```commandline
celery -A config beat -l INFO
```

В проекте по задача send_mails настроена таким образом, что она будет выпорлняться каждые 2 минуты, чтобы изменить
интервал выполнения задачи поменяйте параметр `minutes=2` на необходимый вам интервал в минутах.

# Запуск проекта

После выполнения всех вышеперечисленных шагов вы можете запустить проект с помощью команды:

```commandline
python manage.py runserver
```